<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BizLiv ブログ - ビジネスパーソンのためのライフハック情報</title>
    <link rel="alternate" hreflang="ja" href="https://bizliv.life/blog/ja/">
    <link rel="alternate" hreflang="x-default" href="https://bizliv.life/blog/ja/">
    <meta name="description" content="BizLivブログでは、40代・50代のビジネスパーソン向けのワークライフバランス改善、生産性向上、ライフハック情報を定期更新しています。">
    <meta property="og:title" content="BizLiv ブログ - ビジネスパーソンのためのライフハック情報">
    <meta property="og:description" content="BizLivブログでは、40代・50代のビジネスパーソン向けのワークライフバランス改善、生産性向上、ライフハック情報を定期更新しています。">
    <meta property="og:image" content="https://bizliv.life/images/background.jpg">
    <meta property="og:url" content="https://bizliv.life/blog/ja/">
    <meta property="og:type" content="blog">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Blog",
      "name": "BizLiv ブログ",
      "description": "ビジネスパーソンのためのワークライフバランス・生産性向上情報",
      "url": "https://bizliv.life/blog/ja/",
      "author": {
        "@type": "Organization",
        "name": "BizLiv"
      },
      "publisher": {
        "@type": "Organization",
        "name": "BizLiv",
        "logo": {
          "@type": "ImageObject",
          "url": "https://bizliv.life/images/background.jpg"
        }
      }
    }
    </script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KZ2GMHNF9E"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-KZ2GMHNF9E');
    </script>
    <style>
        body {
            padding-top: 64px;
        }
        header {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        html {
            scroll-behavior: smooth;
        }
        .blog-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .loading-skeleton {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .rss-item {
            display: none;
        }
        .rss-item.loaded {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-50">
    <header id="site-header" class="bg-white">
        <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="../../ja/" class="text-2xl font-bold text-blue-600">BizLiv.life</a>
            <ul class="flex space-x-4">
                <li><a href="../../ja/#features" class="text-gray-600 hover:text-blue-600">特徴</a></li>
                <li><a href="../../ja/#apps" class="text-gray-600 hover:text-blue-600">アプリ</a></li>
                <li><span class="text-blue-600 font-semibold cursor-default">ブログ</span></li>
                <li><a href="../../podcast/ja/" class="text-gray-600 hover:text-blue-600">音声</a></li>
                <li><a href="../../ja/#faq" class="text-gray-600 hover:text-blue-600">FAQ</a></li>
            </ul>
        </nav>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- ヒーローセクション -->
        <section class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 text-gray-800">BizLiv ブログ</h1>
            <p class="text-xl text-gray-600 mb-4">ビジネスパーソンのワークライフバランス・生産性向上のためのヒント</p>
            
            <!-- 自動更新インジケーター -->
            <div id="auto-refresh-indicator" class="inline-flex items-center text-sm text-gray-500 mb-6">
                <div class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"></div>
                <span>5分間隔で自動更新</span>
                <button onclick="loadRSSFeed()" class="ml-4 text-blue-600 hover:text-blue-800 underline">
                    今すぐ更新
                </button>
            </div>
            
            <div class="w-24 h-1 bg-blue-600 mx-auto"></div>
        </section>

        <!-- ローディング表示 -->
        <div id="loading" class="text-center py-8">
            <div class="loading-skeleton bg-gray-200 h-8 w-48 mx-auto mb-4 rounded"></div>
            <div class="loading-skeleton bg-gray-200 h-4 w-64 mx-auto rounded"></div>
        </div>

        <!-- エラー表示 -->
        <div id="error" class="text-center py-8 hidden">
            <div class="bg-red-50 border border-red-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-red-800 mb-2">記事の読み込みに失敗しました</h3>
                <p class="text-red-600">しばらく時間をおいてから再度お試しください。</p>
                <button onclick="loadRSSFeed()" class="mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">
                    再試行
                </button>
            </div>
        </div>

        <!-- ブログ記事一覧 -->
        <section id="blog" class="mb-12">
            <div id="blog-posts" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- 記事はJavaScriptで動的に生成されます -->
            </div>
        </section>

        <!-- ページネーション（将来拡張用） -->
        <div id="pagination" class="text-center mt-8 hidden">
            <button class="bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 mr-4">
                前のページ
            </button>
            <span class="text-gray-600 mx-4">1 / 1</span>
            <button class="bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 ml-4">
                次のページ
            </button>
        </div>

        <!-- CTA セクション -->
        <section class="text-center py-16 bg-blue-50 rounded-lg mt-12">
            <h2 class="text-3xl font-bold mb-4">BizLivでワークライフバランスを改善</h2>
            <p class="text-xl text-gray-600 mb-8">4つの便利なアプリでビジネスと生活を効率的に管理しましょう</p>
            <a href="../../ja/#apps" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-full hover:bg-blue-700 transition-colors">アプリを見る</a>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <p class="mb-4">&copy; 2024 BizLiv. All rights reserved.</p>
                <nav class="space-x-4">
                    <a href="../../privacy/ja/#privacy-policy" class="text-white hover:text-blue-300">プライバシーポリシー</a>
                    <span class="text-gray-500">|</span>
                    <a href="../../privacy/ja/#terms-of-service" class="text-white hover:text-blue-300">利用規約</a>
                    <span class="text-gray-500">|</span>
                    <a href="../../support/ja/" class="text-white hover:text-blue-300">お問い合わせ</a>
                </nav>
            </div>
        </div>
    </footer>

    <script>
        // RSS フィード URL（noteのRSSフィードURL）
        const RSS_FEED_URL = 'https://note.com/vyeah/rss';
        
        // CORSプロキシサービス（本番環境では独自のプロキシサーバーを使用することを推奨）
        const CORS_PROXY = 'https://api.allorigins.win/raw?url=';
        
        // 自動更新間隔（ミリ秒）- 5分間隔で更新
        const AUTO_REFRESH_INTERVAL = 5 * 60 * 1000;
        
        async function loadRSSFeed() {
            const loading = document.getElementById('loading');
            const error = document.getElementById('error');
            const blogPosts = document.getElementById('blog-posts');
            const indicator = document.getElementById('auto-refresh-indicator');
            
            // 更新インジケーターを一時的に変更
            if (indicator) {
                const dot = indicator.querySelector('.bg-green-500');
                const text = indicator.querySelector('span');
                if (dot && text) {
                    dot.className = 'w-2 h-2 bg-blue-500 rounded-full mr-2 animate-spin';
                    text.textContent = '更新中...';
                }
            }
            
            // ローディング表示
            loading.classList.remove('hidden');
            error.classList.add('hidden');
            
            try {
                const response = await fetch(CORS_PROXY + encodeURIComponent(RSS_FEED_URL));
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                
                const xmlText = await response.text();
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
                
                // RSS項目を解析
                const items = xmlDoc.querySelectorAll('item');
                
                if (items.length === 0) {
                    throw new Error('No RSS items found');
                }
                
                // 記事カードを生成
                let htmlContent = '';
                items.forEach((item, index) => {
                    if (index < 12) { // 最大12記事まで表示
                        const title = item.querySelector('title')?.textContent || '無題の記事';
                        const link = item.querySelector('link')?.textContent || '#';
                        const description = item.querySelector('description')?.textContent || '';
                        const pubDate = item.querySelector('pubDate')?.textContent || '';
                        
                        // 説明文をクリーンアップ（HTMLタグを除去）
                        const cleanDescription = description.replace(/<[^>]*>/g, '').substring(0, 150) + '...';
                        
                        // 日付をフォーマット
                        const formattedDate = pubDate ? new Date(pubDate).toLocaleDateString('ja-JP') : '';
                        
                        htmlContent += `
                            <article class="blog-card bg-white rounded-lg shadow-md overflow-hidden rss-item">
                                <div class="p-6">
                                    <div class="flex items-center text-sm text-gray-500 mb-2">
                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
                                        </svg>
                                        ${formattedDate}
                                    </div>
                                    <h2 class="text-xl font-bold mb-3 text-gray-800 line-clamp-2">
                                        <a href="${link}" target="_blank" rel="noopener noreferrer" class="hover:text-blue-600 transition-colors">
                                            ${title}
                                        </a>
                                    </h2>
                                    <p class="text-gray-600 mb-4 line-clamp-3">${cleanDescription}</p>
                                    <a href="${link}" target="_blank" rel="noopener noreferrer" 
                                       class="inline-flex items-center text-blue-600 hover:text-blue-800 font-semibold">
                                        続きを読む
                                        <svg class="w-4 h-4 ml-1" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                                        </svg>
                                    </a>
                                </div>
                            </article>
                        `;
                    }
                });
                
                blogPosts.innerHTML = htmlContent;
                
                // アニメーション付きで表示
                setTimeout(() => {
                    const rssItems = document.querySelectorAll('.rss-item');
                    rssItems.forEach((item, index) => {
                        setTimeout(() => {
                            item.classList.add('loaded');
                        }, index * 100);
                    });
                }, 100);
                
            } catch (err) {
                console.error('RSS feed loading error:', err);
                error.classList.remove('hidden');
            } finally {
                loading.classList.add('hidden');
                
                // インジケーターを元に戻す
                const indicator = document.getElementById('auto-refresh-indicator');
                if (indicator) {
                    const dot = indicator.querySelector('.bg-blue-500, .bg-green-500');
                    const text = indicator.querySelector('span');
                    if (dot && text) {
                        dot.className = 'w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse';
                        text.textContent = '5分間隔で自動更新';
                    }
                }
            }
        }
        
        // 自動更新タイマーのID
        let autoRefreshTimer = null;
        
        // 自動更新を開始
        function startAutoRefresh() {
            // 既存のタイマーをクリア
            if (autoRefreshTimer) {
                clearInterval(autoRefreshTimer);
            }
            
            // 新しいタイマーを設定
            autoRefreshTimer = setInterval(() => {
                console.log('自動更新中...');
                loadRSSFeed();
            }, AUTO_REFRESH_INTERVAL);
            
            console.log(`自動更新が開始されました（${AUTO_REFRESH_INTERVAL / 60000}分間隔）`);
        }
        
        // 自動更新を停止
        function stopAutoRefresh() {
            if (autoRefreshTimer) {
                clearInterval(autoRefreshTimer);
                autoRefreshTimer = null;
                console.log('自動更新が停止されました');
            }
        }
        
        // ページの可視性が変わったときの処理
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                // ページが非表示になったら自動更新を停止
                stopAutoRefresh();
            } else {
                // ページが表示されたら自動更新を開始し、すぐに一度更新
                loadRSSFeed();
                startAutoRefresh();
            }
        });
        
        // ページ読み込み時にRSSフィードを取得し、自動更新を開始
        document.addEventListener('DOMContentLoaded', () => {
            loadRSSFeed();
            startAutoRefresh();
        });
    </script>
</body>
</html>